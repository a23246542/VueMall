(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c89e8"],{"563d":function(t,s,e){"use strict";e.r(s);var i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"orderConfirm"},[e("div",{staticClass:"container"},[t._m(0),e("p",{staticClass:"mb-3 text-center"},[t._v(" 運送時間為5~7個工作天內宅配到貨或是通知指定門市取貨 ")]),e("div",{staticClass:"row"},[e("div",{staticClass:"orderConfirm__detail col"},[e("div",{staticClass:"shoppingBlock"},[t._m(1),e("div",{staticClass:"shoppingBlock__body"},[e("div",{staticClass:"prdList"},[t._m(2),t.payment?e("ul",{staticClass:"prdList__content"},t._l(t.products,(function(s){return e("li",{key:s.product.id,staticClass:"prdList__row d-flex"},[e("div",{staticClass:"prdList__Item flex-2 text-left"},[e("img",{attrs:{src:"",alt:""}}),t._v(" "+t._s(s.product.title)+" ")]),e("div",{staticClass:"prdList__Item flex-1"},[t._v(" "+t._s(s.product.unit)+" ")]),e("div",{staticClass:"prdList__Item flex-1"},[t._v(" "+t._s(s.product.price)+" ")]),e("div",{staticClass:"prdList__Item flex-1"},[t._v(" "+t._s(s.quantity)+" ")]),e("div",{staticClass:"prdList__Item flex-1"},[t._v(" "+t._s(s.quantity*s.product.price)+" ")])])})),0):t._e(),e("div",{staticClass:"orderCount d-flex justify-content-between"},[e("div",{staticClass:"orderCount__num"},[t._v(" 共計3件 ")]),e("div",{staticClass:"orderCount__box"},[e("div",{staticClass:"orderCount__list p-2"},[t.coupon&&t.coupon.percent?e("div",{staticClass:"d-flex justify-content-between mb-1"},[e("span",[t._v("折扣金額")]),e("span",[t._v("-NT$"+t._s(t.orderDiscountAmount))])]):t._e(),t._m(3)]),e("span",{staticClass:"orderCount__border"}),e("div",{staticClass:"orderCount__total d-flex justify-content-between text-red"},[e("span",[t._v("總計")]),e("span",[t._v("NT"+t._s(t._f("dollars")(t.amount)))])]),t._m(4)])])])])])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("div",{staticClass:"shoppingBlock"},[t._m(5),e("div",{staticClass:"shoppingBlock__body"},[e("div",{staticClass:"m-orderInfoList"},[e("ul",[e("li",[e("span",{staticClass:"m-orderInfoList__itemTitle"},[t._v("收件人")]),e("span",{staticClass:"m-orderInfoList__itemTxt"},[t._v(t._s(t.user.name))])]),e("li",[e("span",{staticClass:"m-orderInfoList__itemTitle"},[t._v("連絡電話")]),e("span",{staticClass:"m-orderInfoList__itemTxt"},[t._v(t._s(t.user.tel))])]),e("li",[e("span",{staticClass:"m-orderInfoList__itemTitle"},[t._v("E-mail")]),e("span",{staticClass:"m-orderInfoList__itemTxt"},[t._v(t._s(t.user.email))])]),e("li",[e("span",{staticClass:"m-orderInfoList__itemTitle"},[t._v("收貨地址")]),e("span",{staticClass:"m-orderInfoList__itemTxt"},[t._v(t._s(t.user.address))])])])])])])]),e("div",{staticClass:"col"},[e("div",{staticClass:"shoppingBlock"},[t._m(6),e("div",{staticClass:"shoppingBlock__body"},[e("div",{staticClass:"m-orderInfoList"},[e("ul",[t._m(7),e("li",[e("span",{staticClass:"m-orderInfoList__itemTitle"},[t._v("付款金額")]),e("span",{staticClass:"m-orderInfoList__itemTxt"},[t._v(t._s(t._f("dollars")(t.amount)))])]),e("li",[e("span",{staticClass:"m-orderInfoList__itemTitle"},[t._v("付款方式")]),e("span",{staticClass:"m-orderInfoList__itemTxt"},[t._v(t._s(t.payment))])]),e("li",[e("span",{staticClass:"m-orderInfoList__itemTitle"},[t._v("付款狀態")]),t.paid?e("span",{staticClass:"m-orderInfoList__itemTxt text-success"},[t._v("已經付款")]):e("span",{staticClass:"m-orderInfoList__itemTxt text-danger"},[t._v("尚未付款")])])]),e("button",{staticClass:"btn btn-primary btn-block py-1",attrs:{type:"button"},on:{click:t.paySubmit}},[t._v(" 確認付款 ")])])])])])])])])},a=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"orderConfirm__title mb-3 text-center"},[e("h3",[t._v("訂單確認")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"shoppingBlock__header text-center"},[e("h4",{staticClass:"mb-0"},[t._v(" 訂單明細 ")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"prdList__header d-flex"},[e("div",{staticClass:"prdList__headerItem flex-2 align-items-center text-left"},[t._v(" 商品資料 ")]),e("div",{staticClass:"prdList__headerItem flex-1"},[t._v(" 單位 ")]),e("div",{staticClass:"prdList__headerItem flex-1"},[t._v(" 單鍵售價 ")]),e("div",{staticClass:"prdList__headerItem flex-1"},[t._v(" 數量 ")]),e("div",{staticClass:"prdList__headerItem flex-1"},[t._v(" 小計 ")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"d-flex justify-content-between mb-1"},[e("span",[t._v("運費")]),e("span",[t._v("NT$0")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("p",{staticClass:"orderCount__tip mb-0 text-right pr-2"},[e("small",{staticClass:"text-muted"},[t._v(" 皆以TWD付款 ")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"shoppingBlock__header text-center"},[e("h4",{staticClass:"mb-0"},[t._v(" 收件資訊 ")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"shoppingBlock__header text-center"},[e("h4",{staticClass:"mb-0"},[t._v(" 付款資訊 ")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("li",[e("span",{staticClass:"m-orderInfoList__itemTitle"},[t._v("運送方式")]),e("span",{staticClass:"m-orderInfoList__itemTxt"},[t._v("宅配到府")])])}],r={data:function(){return{orderId:"",message:"",user:{},coupon:{},amount:0,products:[],payment:"",paid:!1,created_at:"",orderData:{}}},computed:{orderDiscountAmount:function(){var t=100*this.amount/this.coupon.percent;return t-this.amount},thisOrder:function(){return this.$store.state.CusOrders.thisOrder}},created:function(){var t=this.$route.query.orderId;this.getOrders(t)},mounted:function(){this.$store.dispatch("changePage","order_confirm")},methods:{getOrders:function(t){var s=this;this.$store.dispatch("getSingleOrder",t).then((function(){var t=s.thisOrder,e=t.id,i=t.message,a=t.user,r=t.coupon,n=t.amount,o=t.products,c=t.payment,_=t.paid,l=t.createdAt;s.orderId=e,s.message=i,s.user=a,s.coupon=r,s.amount=n,s.products=o,s.payment=c,s.paid=_,s.created_at=l}))},paySubmit:function(){var t=this,s=this;s.$swal({title:"確認付款?",text:"你將支付這筆費用",icon:"info",showCancelButton:!0,confirmButtonText:"付款",cancelButtonText:"取消",reverseButtons:!1}).then((function(e){if(e.isConfirmed){s.$store.commit("LOADING",!0);var i="ec/orders/".concat(t.orderId,"/paying");s.$instanceCus.post(i).then((function(){s.$store.commit("LOADING",!1),s.$swal("付款成功!","","success").then((function(e){e.isConfirmed&&s.$router.push({name:"訂單完成",query:{orderId:t.orderId}})}))})).catch((function(){}))}}))}}},n=r,o=e("2877"),c=Object(o["a"])(n,i,a,!1,null,null,null);s["default"]=c.exports}}]);
//# sourceMappingURL=chunk-2d0c89e8.5b61d7da.js.map