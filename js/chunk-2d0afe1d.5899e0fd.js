(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0afe1d"],{"0fe6":function(t,a,s){"use strict";s.r(a);var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"orderPreview"},[s("div",{staticClass:"container"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-8"},[s("div",{staticClass:"mb-4"},[s("div",{staticClass:"cart"},[s("div",{staticClass:"cart__header p-3"},[s("h4",{staticClass:"mb-0"},[t._v(" 購物車("+t._s(t.cart.carts.length)+"件) ")])]),s("div",{staticClass:"cart__body p-4 bg-light"},t._l(t.cart.carts,(function(a){return s("div",{key:a.product.id,staticClass:"cart__item row mb-3"},[s("div",{staticClass:"col-3 col-md-3"},[s("img",{staticClass:"img-fluid",attrs:{src:a.product.imageUrl[0],alt:""}})]),s("div",{staticClass:"col-9 col-md-9"},[s("div",{staticClass:"row h-100"},[s("div",{staticClass:"col-md-6"},[s("div",{staticClass:"d-flex flex-column h-100"},[s("div",{staticClass:"fz-2 fw-b mb-md-2"},[t._v(" "+t._s(a.product.title)+" ")]),s("div",{staticClass:"fz-3"},[t._v(" "+t._s(t._f("dollars")(a.product.price))+" ")])])]),s("div",{staticClass:"col-md-6"},[s("div",{staticClass:"d-flex justify-content-between align-items-center h-100"},[s("div",{staticClass:"input-group input-group-sm d-inline-flex w-auto flex-nowrap"},[s("span",{staticClass:"input-group-prepend"},[s("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(s){return s.preventDefault(),t.updateCartQty("add1",a)}}},[t._v("+")])]),s("input",{directives:[{name:"model",rawName:"v-model.number",value:a.quantity,expression:"item.quantity",modifiers:{number:!0}},{name:"debounce",rawName:"v-debounce:1s.lock",value:t.stayUpdateCart,expression:"stayUpdateCart",arg:"1s",modifiers:{lock:!0}}],staticClass:"text-center form-control",staticStyle:{width:"30px"},attrs:{type:"text","debounce-events":"input","data-item-id":a.product.id},domProps:{value:a.quantity},on:{input:function(s){s.target.composing||t.$set(a,"quantity",t._n(s.target.value))},blur:function(a){return t.$forceUpdate()}}}),s("span",{staticClass:"input-group-append"},[s("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(s){return s.preventDefault(),t.updateCartQty("subtract1",a)}}},[t._v("-")])])]),s("div",{staticClass:"d-flex align-items-center"},[s("p",{staticClass:"h4 mb-0 px-2"},[t._v(" "+t._s(t._f("dollars")(a.product.price*a.quantity))+" ")]),s("div",{staticClass:"d-flex flex-column px-2"},[s("a",{staticClass:"text-nowrap",attrs:{href:""},on:{click:function(s){return s.preventDefault(),t.removeCart(a)}}},[t._v("移除")]),s("a",{staticClass:"text-nowrap",attrs:{href:""}},[t._v("收藏")])])])])])])])])})),0)])])]),s("div",{staticClass:"col-md-4"},[s("div",{staticClass:"cartSummary card"},[s("div",{staticClass:"cartSummary__header card-header border-0"},[t._v(" 訂單摘要 ")]),s("div",{staticClass:"cartSummary__body card-body pb-4"},[s("p",{staticClass:"d-flex justify-content-between pb-2 border-bottom"},[s("span",[t._v("小計")]),s("span",[t._v("NT"+t._s(t._f("dollars")(t.cartTotal)))])]),s("div",[s("div",{staticClass:"form-inline flex-nowrap pl-2 mb-3"},[s("span",{staticClass:"mr-4 text-nowrap"},[t._v("折價券")]),s("span",{staticClass:"input-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.couponCode,expression:"couponCode"}],staticClass:"form-control rounded-0",attrs:{type:"text",placeholder:"輸入優惠碼"},domProps:{value:t.couponCode},on:{keyup:function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"enter",13,a.key,"Enter")?null:t.searchCoupon(a)},input:function(a){a.target.composing||(t.couponCode=a.target.value)}}}),s("div",{staticClass:"input-group-append",on:{click:t.searchCoupon}},[s("span",{staticClass:"input-group-text rounded-0 bg-secondary1 text-white"},[t._v("套用")])])])]),t.discountAmount?s("p",{staticClass:"d-flex justify-content-between pb-3 text-red border-bottom"},[s("span",[t._v("折扣金額")]),s("span",[t._v("- NT"+t._s(t._f("dollars")(t.discountAmount)))])]):t._e(),t._m(0),s("div",{staticClass:"d-flex justify-content-between mb-4"},[s("span",[t._v("總計")]),s("div",[s("span",{staticClass:"d-block"},[t._v("NT"+t._s(t._f("dollars")(t.amountAll)))]),s("small",{staticClass:"d-block text-muted"},[t._v("皆以TWD付款")])])])]),s("router-link",{staticClass:"btn btn-primary btn-block",attrs:{tag:"a",href:"#",to:{name:"收件資訊"}}},[t._v(" 下一步 ")])],1)])])])])])},r=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("p",{staticClass:"d-flex justify-content-between pb-3 border-bottom"},[s("span",[t._v("運費")]),s("span",{staticClass:"text-red"},[t._v("NT$0")])])}],i=s("5530"),n=s("2f62"),o={data:function(){return{coupon:{},couponCode:""}},computed:Object(i["a"])({cart:function(){return this.$store.state.Cart.cart},cartTotal:function(){return this.$store.getters.cartTotal}},Object(n["b"])(["amountAll","discountAmount"])),watch:{cartTotal:function(){this.$store.dispatch("setOrderCartTotal")}},created:function(){this.getCart()},mounted:function(){this.$store.dispatch("changePage","order_preview")},methods:{getCart:function(){this.$store.dispatch("getCart")},updateCartQty:function(t,a){var s=a.product.id,e=a.quantity;switch(t){case"add1":e+=1;break;case"subtract1":e-=1;break;default:break}var r={productId:s,newQty:e};this.$store.dispatch("editCart",r)},stayUpdateCart:function(t,a){var s={productId:a.target.dataset.itemId,newQty:t};this.$store.dispatch("editCart",s)},removeCart:function(t){var a=t.product.id;this.$store.dispatch("delCart",a)},searchCoupon:function(){var t=this,a=this,s={code:a.couponCode},e="ec/coupon/search";a.$store.commit("LOADING",!0),a.$instanceCus.post(e,s).then((function(a){t.coupon=a.data.data,t.$store.commit("COUPON",t.coupon),t.$store.commit("LOADING",!1)})).catch((function(){t.$store.commit("COUPON",{}),t.$store.commit("LOADING",!1)}))}}},c=o,d=s("2877"),l=Object(d["a"])(c,e,r,!1,null,null,null);a["default"]=l.exports}}]);
//# sourceMappingURL=chunk-2d0afe1d.5899e0fd.js.map