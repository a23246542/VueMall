(function(e){function t(t){for(var o,c,i=t[0],s=t[1],u=t[2],d=0,p=[];d<i.length;d++)c=i[d],Object.prototype.hasOwnProperty.call(r,c)&&r[c]&&p.push(r[c][0]),r[c]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o]);l&&l(t);while(p.length)p.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],o=!0,c=1;c<n.length;c++){var i=n[c];0!==r[i]&&(o=!1)}o&&(a.splice(t--,1),e=s(s.s=n[0]))}return e}var o={},c={app:0},r={app:0},a=[];function i(e){return s.p+"js/"+({}[e]||e)+"."+{"chunk-0297e3fa":"c8a55e4c","chunk-1b99c6fc":"92294fe4","chunk-1c2ecce9":"54e48698","chunk-21604cd6":"0002aa9a","chunk-2d0aab94":"89970f9a","chunk-2d0ab0dc":"1af155b9","chunk-2d0ab4f7":"e812d2b4","chunk-2d0c1034":"d08da7d7","chunk-2d0d079a":"43386234","chunk-2d0ddb64":"8b3f371c","chunk-2d0e66f5":"38d06132","chunk-2d216769":"6cd443b1","chunk-2d21ddbc":"992e39e7","chunk-2d21e366":"75846718","chunk-2d2218ad":"b2ad30ea","chunk-2d225676":"931de39d","chunk-2d229275":"296a68ea","chunk-f2949b1e":"121d42fe"}[e]+".js"}function s(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(e){var t=[],n={"chunk-1b99c6fc":1,"chunk-1c2ecce9":1,"chunk-21604cd6":1,"chunk-f2949b1e":1};c[e]?t.push(c[e]):0!==c[e]&&n[e]&&t.push(c[e]=new Promise((function(t,n){for(var o="css/"+({}[e]||e)+"."+{"chunk-0297e3fa":"31d6cfe0","chunk-1b99c6fc":"4091e69d","chunk-1c2ecce9":"2e479f66","chunk-21604cd6":"5bc8fcd9","chunk-2d0aab94":"31d6cfe0","chunk-2d0ab0dc":"31d6cfe0","chunk-2d0ab4f7":"31d6cfe0","chunk-2d0c1034":"31d6cfe0","chunk-2d0d079a":"31d6cfe0","chunk-2d0ddb64":"31d6cfe0","chunk-2d0e66f5":"31d6cfe0","chunk-2d216769":"31d6cfe0","chunk-2d21ddbc":"31d6cfe0","chunk-2d21e366":"31d6cfe0","chunk-2d2218ad":"31d6cfe0","chunk-2d225676":"31d6cfe0","chunk-2d229275":"31d6cfe0","chunk-f2949b1e":"4ddc77a1"}[e]+".css",r=s.p+o,a=document.getElementsByTagName("link"),i=0;i<a.length;i++){var u=a[i],d=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(d===o||d===r))return t()}var p=document.getElementsByTagName("style");for(i=0;i<p.length;i++){u=p[i],d=u.getAttribute("data-href");if(d===o||d===r)return t()}var l=document.createElement("link");l.rel="stylesheet",l.type="text/css",l.onload=t,l.onerror=function(t){var o=t&&t.target&&t.target.src||r,a=new Error("Loading CSS chunk "+e+" failed.\n("+o+")");a.code="CSS_CHUNK_LOAD_FAILED",a.request=o,delete c[e],l.parentNode.removeChild(l),n(a)},l.href=r;var h=document.getElementsByTagName("head")[0];h.appendChild(l)})).then((function(){c[e]=0})));var o=r[e];if(0!==o)if(o)t.push(o[2]);else{var a=new Promise((function(t,n){o=r[e]=[t,n]}));t.push(o[2]=a);var u,d=document.createElement("script");d.charset="utf-8",d.timeout=120,s.nc&&d.setAttribute("nonce",s.nc),d.src=i(e);var p=new Error;u=function(t){d.onerror=d.onload=null,clearTimeout(l);var n=r[e];if(0!==n){if(n){var o=t&&("load"===t.type?"missing":t.type),c=t&&t.target&&t.target.src;p.message="Loading chunk "+e+" failed.\n("+o+": "+c+")",p.name="ChunkLoadError",p.type=o,p.request=c,n[1](p)}r[e]=void 0}};var l=setTimeout((function(){u({type:"timeout",target:d})}),12e4);d.onerror=d.onload=u,document.head.appendChild(d)}return Promise.all(t)},s.m=e,s.c=o,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)s.d(n,o,function(t){return e[t]}.bind(null,o));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],d=u.push.bind(u);u.push=t,u=u.slice();for(var p=0;p<u.length;p++)t(u[p]);var l=d;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"56d7":function(e,t,n){"use strict";n.r(t);n("4de4"),n("4160"),n("b64b"),n("ac1f"),n("5319"),n("159b");var o=n("5530"),c=(n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("2b0e")),r=n("bc3a"),a=n.n(r),i=n("a7fe"),s=n.n(i),u=(n("1157"),n("4989"),n("7bb1")),d=n("4c93"),p=n("60d4"),l=n("9062"),h=n.n(l),f=(n("e40d"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("BaseLoading",{attrs:{active:e.isLoading},on:{"update:active":function(t){e.isLoading=t}}}),n("router-view")],1)}),m=[],b={name:"App",components:{},computed:{isLoading:function(){return this.$store.state.isLoading}}},g=b,k=(n("5c0b"),n("2877")),_=Object(k["a"])(g,f,m,!1,null,null,null),v=_.exports,y=n("9f30"),w=n("a18c"),D=n("2f62"),A={LOADING:function(e,t){e.isLoading=t}};c["a"].prototype.$instanceCus=y["b"];var O={updateLoading:function(e,t){e.commit("LOADING",t)}},S={state:{cart:{carts:[],pagination:{}}},getters:{cartTotal:function(e){var t=0;return e.cart.carts.forEach((function(e){var n=0;n=e.quantity*e.product.price,t+=n})),t}},mutations:{CART:function(e,t){e.cart.carts=t.data.reverse(),e.cart.pagination=t.meta.pagination}},actions:{getCart:function(e){e.commit("LOADING",!0);var t="ec/shopping";y["b"].get(t).then((function(t){console.log("上面是取得購物車"),e.commit("CART",t.data),e.commit("LOADING",!1)}))},addToCart:function(e,t){var n=this,o=t.productId,c=t.qty,r="ec/shopping",a={product:o,quantity:c};this.$instanceCus.post(r,a).then((function(e){n.$bus.$emit("message:push","".concat(item.title,"已加入購物車"),"success"),n.$refs.cart.getCart()}))},editCart:function(e,t){var n=t.productId,o=t.newQty;e.commit("LOADING",!0),console.log(n,o);var c="ec/shopping",r={product:n,quantity:o};y["b"].patch(c,r).then((function(t){e.dispatch("getCart")}))},delCart:function(e,t){e.commit("LOADING",!0);var n="ec/shopping/".concat(t);y["b"].delete(n).then((function(t){e.dispatch("getCart")}))},delAllCart:function(e){e.commit("LOADING",!0);var t="ec/shopping/all/product";y["b"].delete(t).then((function(t){e.dispatch("getCart")}))}}};c["a"].use(D["a"]);var L={isLoading:!1},P={},j=new D["a"].Store({state:L,getters:P,mutations:A,actions:O,modules:{Cart:S}});c["a"].prototype.$bus=new c["a"];var x=function(e){var t=new Date(1e3*e);return console.log(data),t.toLocaleDateString()},C=(n("d3b7"),n("25f0"),function(e){var t=e.toString();return"$"+t.replace(/\B(?=(\d{3})+(?!\d))/g,",")});c["a"].prototype.$instanceAdmin=y["a"],c["a"].prototype.$instanceCus=y["b"],u["e"]("tw",p),Object.keys(d).forEach((function(e){u["d"](e,Object(o["a"])(Object(o["a"])({},d[e]),{},{message:p[e]}))})),u["c"]({classes:{valid:"is-valid",invalid:"is-invalid"}}),c["a"].config.productionTip=!1,c["a"].use(s.a,a.a),c["a"].component("BaseLoading",h.a),c["a"].component("ValidationProvider",u["b"]),c["a"].component("ValidationObserver",u["a"]),c["a"].filter("date",x),c["a"].filter("dollars",C);var $=!1;$&&n("fc6e");var I=new c["a"]({router:w["a"],store:j,render:function(e){return e(v)}}).$mount("#app");w["a"].beforeEach((function(e,t,n){if(console.log("to",e,"from",t,"next",n),e.meta.requireAuth){I.$store.commit("LOADING",!0);var o="auth/check",c=document.cookie.replace(/(?:(?:^|.*;\s*)token\s*\=\s*([^;]*).*$)|^.*$/,"$1");""!==c?y["c"].post(o,{api_token:c}).then((function(e){I.$store.commit("LOADING",!1),console.dir(e),e.data.success?n():(I.$store.commit("LOADING",!1),console.log("響應驗證失敗"),n({name:"login"}))})).catch((function(e){console.log("響應驗證失敗",e),I.$store.commit("LOADING",!1),n({name:"login"})})):(I.$store.commit("LOADING",!1),console.log("未登入(token不存在)"),n({name:"login"}))}else n()}))},"5c0b":function(e,t,n){"use strict";var o=n("9c0c"),c=n.n(o);c.a},"9c0c":function(e,t,n){},"9f30":function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return d}));n("99af"),n("d3b7"),n("ac1f"),n("5319"),n("96cf");var o=n("1da1"),c=n("2b0e"),r=n("bc3a"),a=n.n(r),i=(n("a18c"),{apiPath:"",uuid:""});i.apiPath="https://course-ec-api.hexschool.io/",i.uuid="82a32758-aadc-4405-b535-2f6a678989d8";var s=a.a.create({baseURL:"".concat(i.apiPath,"api/")}),u=a.a.create({baseURL:"".concat(i.apiPath,"api/").concat(i.uuid,"/admin/")}),d=a.a.create({baseURL:"".concat(i.apiPath,"api/").concat(i.uuid,"/")});s.interceptors.request.use((function(e){return e}),(function(e){return console.log("請求錯誤"),console.dir(e),Promise.reject(e)})),s.interceptors.response.use((function(e){return console.log(e),e}),(function(e){return console.log("響應錯誤"),console.dir(e),Promise.reject(e)})),u.interceptors.request.use(function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=document.cookie.replace(/(?:(?:^|.*;\s*)token\s*\=\s*([^;]*).*$)|^.*$/,"$1"),t.headers.Authorization="Bearer ".concat(n),e.abrupt("return",t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){return console.log("請求錯誤"),Promise.reject(e)})),u.interceptors.response.use((function(e){return console.log(e),e}),(function(e){return console.log("響應錯誤"),console.dir(e),Promise.reject(e)})),d.interceptors.request.use((function(e){return e}),(function(e){return console.log("請求錯誤"),console.dir(e),Promise.reject(e)})),d.interceptors.response.use((function(e){return console.log(e),e}),(function(e){return console.log("響應錯誤"),console.dir(e),Promise.reject(e)})),c["a"].prototype.$instanceLogin=s,c["a"].prototype.$instanceAdmin=u,c["a"].prototype.$instanceCus=d},a18c:function(e,t,n){"use strict";n("d3b7");var o=n("2b0e"),c=n("8c4f");o["a"].use(c["a"]);var r=[{path:"*",redirect:"/"},{path:"/",component:function(){return n.e("chunk-21604cd6").then(n.bind(null,"fced"))},children:[{path:"",name:"home",component:function(){return n.e("chunk-2d2218ad").then(n.bind(null,"cb91"))}},{path:"products",name:"products",component:function(){return n.e("chunk-f2949b1e").then(n.bind(null,"4319"))},children:[{path:":id",name:"singleProduct",component:function(){return n.e("chunk-2d0e66f5").then(n.bind(null,"9976"))}}]},{path:"aboutUs",name:"關於我們",component:function(){return n.e("chunk-2d0ab4f7").then(n.bind(null,"1574"))}},{path:"order_list",name:"我的訂單",component:function(){return n.e("chunk-2d0d079a").then(n.bind(null,"67ad"))}},{path:"coupon",name:"優惠券",component:function(){return n.e("chunk-2d229275").then(n.bind(null,"dbde"))}}]},{path:"/shopping",name:"購物車",component:function(){return n.e("chunk-2d0aab94").then(n.bind(null,"11db"))},redirect:"/shopping/order_preview",children:[{path:"order_preview",name:"購物清單",component:function(){return n.e("chunk-2d21e366").then(n.bind(null,"d532"))}},{path:"order_info",name:"收件資訊",component:function(){return n.e("chunk-2d216769").then(n.bind(null,"c325"))}},{path:"order_confirm",name:"最後確認",component:function(){return n.e("chunk-2d225676").then(n.bind(null,"e3f8"))}},{path:"order_success",name:"訂單完成",component:function(){return n.e("chunk-2d0ab0dc").then(n.bind(null,"1447"))}}]},{path:"/login",name:"login",component:function(){return n.e("chunk-1b99c6fc").then(n.bind(null,"66ed"))}},{path:"/admin",name:"Dashboard",component:function(){return n.e("chunk-1c2ecce9").then(n.bind(null,"09ec"))},redirect:"/admin/products",children:[{path:"products",name:"dashProducts",component:function(){return n.e("chunk-0297e3fa").then(n.bind(null,"2e28"))},meta:{requireAuth:!0}},{path:"orders",name:"訂單列表",component:function(){return n.e("chunk-2d21ddbc").then(n.bind(null,"d2a9"))}},{path:"coupons",name:"優惠券列表",component:function(){return n.e("chunk-2d0ddb64").then(n.bind(null,"830c"))}},{path:"images",name:"圖片儲存列表",component:function(){return n.e("chunk-2d0c1034").then(n.bind(null,"43dc"))}}]}],a=new c["a"]({base:"",routes:r});t["a"]=a},fc6e:function(e,t,n){"use strict";n.r(t);var o=n("96eb"),c=n.n(o);c.a.mock("api/{uuid}/admin/ec/products","get",{data:[{id:"n6ZmDYhUpW9khDOgccsnRDiwiUlYSCHOpH34egbM82PZB8dkPwGq1zjBjDFG5WI5",title:"Abysswalker",category:"T-Shirts",content:"Its wearer, like Artorias himself, can traverse the Abyss.",imageUrl:["https://cdn.shopify.com/s/files/1/0014/1962/products/product_DS_abysswalker_shirt_main_1024x1024.png?v=1535059789","https://cdn.shopify.com/s/files/1/0014/1962/products/product_DS_abysswalker_shirt_design_1024x1024.png?v=1535059789","https://cdn.shopify.com/s/files/1/0014/1962/products/product_DS_abysswalker_shirt_photo1_1024x1024.png?v=1535059789","https://cdn.shopify.com/s/files/1/0014/1962/products/product_DS_abysswalker_shirt_photo2_1024x1024.png?v=1535059789","https://cdn.shopify.com/s/files/1/0014/1962/products/product_DS_abysswalker_shirt_photo3_1024x1024.png?v=1535059789"],enabled:!0,origin_price:680,price:580,unit:"Item",options:{message:"Hello World!"}},{id:"n6ZmDYhUpW9khDOgccsnRDiwiUlYSCHOpH34egbM82PZB8dkPwGq1zjBjDFG5WI5",title:"Abysswalker",category:"T-Shirts",content:"Its wearer, like Artorias himself, can traverse the Abyss.",imageUrl:["https://cdn.shopify.com/s/files/1/0014/1962/products/product_DS_abysswalker_shirt_main_1024x1024.png?v=1535059789","https://cdn.shopify.com/s/files/1/0014/1962/products/product_DS_abysswalker_shirt_design_1024x1024.png?v=1535059789","https://cdn.shopify.com/s/files/1/0014/1962/products/product_DS_abysswalker_shirt_photo1_1024x1024.png?v=1535059789","https://cdn.shopify.com/s/files/1/0014/1962/products/product_DS_abysswalker_shirt_photo2_1024x1024.png?v=1535059789","https://cdn.shopify.com/s/files/1/0014/1962/products/product_DS_abysswalker_shirt_photo3_1024x1024.png?v=1535059789"],enabled:!0,origin_price:680,price:580,unit:"Item",options:{message:"Hello World!"}},{id:"n6ZmDYhUpW9khDOgccsnRDiwiUlYSCHOpH34egbM82PZB8dkPwGq1zjBjDFG5WI5",title:"Abysswalker",category:"T-Shirts",content:"Its wearer, like Artorias himself, can traverse the Abyss.",imageUrl:["https://cdn.shopify.com/s/files/1/0014/1962/products/product_DS_abysswalker_shirt_main_1024x1024.png?v=1535059789","https://cdn.shopify.com/s/files/1/0014/1962/products/product_DS_abysswalker_shirt_design_1024x1024.png?v=1535059789","https://cdn.shopify.com/s/files/1/0014/1962/products/product_DS_abysswalker_shirt_photo1_1024x1024.png?v=1535059789","https://cdn.shopify.com/s/files/1/0014/1962/products/product_DS_abysswalker_shirt_photo2_1024x1024.png?v=1535059789","https://cdn.shopify.com/s/files/1/0014/1962/products/product_DS_abysswalker_shirt_photo3_1024x1024.png?v=1535059789"],enabled:!0,origin_price:680,price:580,unit:"Item",options:{message:"Hello World!"}}],meta:{pagination:{total:0,count:1,per_page:25,current_page:1,total_pages:1,links:[]}}})}});
//# sourceMappingURL=app.99e8b7d7.js.map