{"version":3,"sources":["webpack:///./src/views/front/OrderPreview.vue?c192","webpack:///src/views/front/OrderPreview.vue","webpack:///./src/views/front/OrderPreview.vue?db9f","webpack:///./src/views/front/OrderPreview.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","cart","carts","length","_l","item","key","product","id","attrs","imageUrl","title","_f","price","on","$event","preventDefault","updateCartQty","directives","name","rawName","value","expression","modifiers","arg","staticStyle","domProps","target","composing","$set","_n","$forceUpdate","quantity","removeCart","cartTotal","type","indexOf","_k","keyCode","searchCoupon","couponCode","discountAmount","_e","_m","amountAll","staticRenderFns","data","coupon","computed","$store","state","Cart","getters","watch","dispatch","created","getCart","mounted","methods","qty","productId","newQty","stayUpdateCart","e","dataset","itemId","val","code","vm","commit","$instanceCus","post","api","then","component"],"mappings":"yHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,MAAM,CAACE,YAAY,oBAAoB,CAACF,EAAG,KAAK,CAACE,YAAY,QAAQ,CAACN,EAAIO,GAAG,QAAQP,EAAIQ,GAAGR,EAAIS,KAAKC,MAAMC,QAAQ,WAAWP,EAAG,MAAM,CAACE,YAAY,2BAA2BN,EAAIY,GAAIZ,EAAIS,KAAU,OAAE,SAASI,GAAM,OAAOT,EAAG,MAAM,CAACU,IAAID,EAAKE,QAAQC,GAAGV,YAAY,uBAAuB,CAACF,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,MAAM,CAACE,YAAY,YAAYW,MAAM,CAAC,IAAMJ,EAAKE,QAAQG,SAAS,GAAG,IAAM,QAAQd,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,MAAM,CAACE,YAAY,4BAA4B,CAACF,EAAG,MAAM,CAACE,YAAY,qBAAqB,CAACN,EAAIO,GAAG,IAAIP,EAAIQ,GAAGK,EAAKE,QAAQI,OAAO,OAAOf,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACN,EAAIO,GAAG,IAAIP,EAAIQ,GAAGR,EAAIoB,GAAG,UAAPpB,CAAkBa,EAAKE,QAAQM,QAAQ,WAAWjB,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,MAAM,CAACE,YAAY,2DAA2D,CAACF,EAAG,MAAM,CAACE,YAAY,+DAA+D,CAACF,EAAG,OAAO,CAACE,YAAY,uBAAuB,CAACF,EAAG,SAAS,CAACE,YAAY,kBAAkBW,MAAM,CAAC,KAAO,UAAUK,GAAG,CAAC,MAAQ,SAASC,GAAgC,OAAxBA,EAAOC,iBAAwBxB,EAAIyB,cAAc,OAAOZ,MAAS,CAACb,EAAIO,GAAG,SAASH,EAAG,QAAQ,CAACsB,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,iBAAiBC,MAAOhB,EAAa,SAAEiB,WAAW,gBAAgBC,UAAU,CAAC,QAAS,IAAO,CAACJ,KAAK,WAAWC,QAAQ,qBAAqBC,MAAO7B,EAAkB,eAAE8B,WAAW,iBAAiBE,IAAI,KAAKD,UAAU,CAAC,MAAO,KAAQzB,YAAY,2BAA2B2B,YAAY,CAAC,MAAQ,QAAQhB,MAAM,CAAC,KAAO,OAAO,kBAAkB,QAAQ,eAAeJ,EAAKE,QAAQC,IAAIkB,SAAS,CAAC,MAASrB,EAAa,UAAGS,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOY,OAAOC,WAAqBpC,EAAIqC,KAAKxB,EAAM,WAAYb,EAAIsC,GAAGf,EAAOY,OAAON,SAAS,KAAO,SAASN,GAAQ,OAAOvB,EAAIuC,mBAAmBnC,EAAG,OAAO,CAACE,YAAY,sBAAsB,CAACF,EAAG,SAAS,CAACE,YAAY,kBAAkBW,MAAM,CAAC,KAAO,UAAUK,GAAG,CAAC,MAAQ,SAASC,GAAgC,OAAxBA,EAAOC,iBAAwBxB,EAAIyB,cAAc,YAAYZ,MAAS,CAACb,EAAIO,GAAG,WAAWH,EAAG,MAAM,CAACE,YAAY,6BAA6B,CAACF,EAAG,IAAI,CAACE,YAAY,gBAAgB,CAACN,EAAIO,GAAG,IAAIP,EAAIQ,GAAGR,EAAIoB,GAAG,UAAPpB,CAAmBa,EAAKE,QAAQM,MAAMR,EAAK2B,WAAY,OAAOpC,EAAG,MAAM,CAACE,YAAY,2BAA2B,CAACF,EAAG,IAAI,CAACE,YAAY,cAAcW,MAAM,CAAC,KAAO,IAAIK,GAAG,CAAC,MAAQ,SAASC,GAAgC,OAAxBA,EAAOC,iBAAwBxB,EAAIyC,WAAW5B,MAAS,CAACb,EAAIO,GAAG,QAAQH,EAAG,IAAI,CAACE,YAAY,cAAcW,MAAM,CAAC,KAAO,KAAK,CAACjB,EAAIO,GAAG,yBAAwB,SAASH,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,MAAM,CAACE,YAAY,oBAAoB,CAACF,EAAG,MAAM,CAACE,YAAY,4CAA4C,CAACN,EAAIO,GAAG,YAAYH,EAAG,MAAM,CAACE,YAAY,oCAAoC,CAACF,EAAG,IAAI,CAACE,YAAY,qDAAqD,CAACF,EAAG,OAAO,CAACJ,EAAIO,GAAG,QAAQH,EAAG,OAAO,CAACJ,EAAIO,GAAG,KAAKP,EAAIQ,GAAGR,EAAIoB,GAAG,UAAPpB,CAAkBA,EAAI0C,iBAAiBtC,EAAG,MAAM,CAACA,EAAG,MAAM,CAACE,YAAY,qCAAqC,CAACF,EAAG,OAAO,CAACE,YAAY,oBAAoB,CAACN,EAAIO,GAAG,SAASH,EAAG,OAAO,CAACE,YAAY,eAAe,CAACF,EAAG,QAAQ,CAACsB,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAO7B,EAAc,WAAE8B,WAAW,eAAexB,YAAY,yBAAyBW,MAAM,CAAC,KAAO,OAAO,YAAc,SAASiB,SAAS,CAAC,MAASlC,EAAc,YAAGsB,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAIA,EAAOoB,KAAKC,QAAQ,QAAQ5C,EAAI6C,GAAGtB,EAAOuB,QAAQ,QAAQ,GAAGvB,EAAOT,IAAI,SAAkB,KAAcd,EAAI+C,aAAaxB,IAAS,MAAQ,SAASA,GAAWA,EAAOY,OAAOC,YAAqBpC,EAAIgD,WAAWzB,EAAOY,OAAON,WAAUzB,EAAG,MAAM,CAACE,YAAY,qBAAqBgB,GAAG,CAAC,MAAQtB,EAAI+C,eAAe,CAAC3C,EAAG,OAAO,CAACE,YAAY,uDAAuD,CAACN,EAAIO,GAAG,cAAeP,EAAkB,eAAEI,EAAG,IAAI,CAACE,YAAY,8DAA8D,CAACF,EAAG,OAAO,CAACJ,EAAIO,GAAG,UAAUH,EAAG,OAAO,CAACJ,EAAIO,GAAG,OAAOP,EAAIQ,GAAGR,EAAIoB,GAAG,UAAPpB,CAAkBA,EAAIiD,sBAAsBjD,EAAIkD,KAAKlD,EAAImD,GAAG,GAAG/C,EAAG,MAAM,CAACE,YAAY,uCAAuC,CAACF,EAAG,OAAO,CAACJ,EAAIO,GAAG,QAAQH,EAAG,MAAM,CAACA,EAAG,OAAO,CAACE,YAAY,WAAW,CAACN,EAAIO,GAAG,KAAKP,EAAIQ,GAAGR,EAAIoB,GAAG,UAAPpB,CAAkBA,EAAIoD,eAAehD,EAAG,QAAQ,CAACE,YAAY,sBAAsB,CAACN,EAAIO,GAAG,mBAAmBH,EAAG,cAAc,CAACE,YAAY,4BAA4BW,MAAM,CAAC,IAAM,IAAI,KAAO,IAAI,GAAK,CAACU,KAAK,UAAU,CAAC3B,EAAIO,GAAG,YAAY,cACpjJ8C,EAAkB,CAAC,WAAa,IAAIrD,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,IAAI,CAACE,YAAY,qDAAqD,CAACF,EAAG,OAAO,CAACJ,EAAIO,GAAG,QAAQH,EAAG,OAAO,CAACE,YAAY,YAAY,CAACN,EAAIO,GAAG,c,wBCmKzP,GACE+C,KADF,WAEI,MAAO,CACLC,OAAQ,GACRP,WAAY,KAGhBQ,SAAU,OAAZ,OAAY,CAAZ,CACI/C,KADJ,WAEM,OAAOR,KAAKwD,OAAOC,MAAMC,KAAKlD,MAEhCiC,UAJJ,WAKM,OAAOzC,KAAKwD,OAAOG,QAAQlB,YAEjC,gDAEEmB,MAAO,CACLnB,UADJ,WAEMzC,KAAKwD,OAAOK,SAAS,uBAGzBC,QArBF,WAsBI9D,KAAK+D,WAEPC,QAxBF,WAyBIhE,KAAKwD,OAAOK,SAAS,aAAc,kBAErCI,QAAS,CACPF,QADJ,WAEM/D,KAAKwD,OAAOK,SAAS,YAEvBrC,cAJJ,SAIA,KACM,IAAN,eACA,aAEM,OAAQkB,GACN,IAAK,OACHwB,GAAO,EACP,MACF,IAAK,YACHA,GAAO,EACP,MACF,QACE,MAEJ,IAAN,GACQC,UAAR,EACQC,OAAQF,GAGVlE,KAAKwD,OAAOK,SAAS,WAAYR,IAEnCgB,eAzBJ,SAyBA,KACM,IAAN,GACQF,UAAWG,EAAEpC,OAAOqC,QAAQC,OAC5BJ,OAAQK,GAEVzE,KAAKwD,OAAOK,SAAS,WAAYR,IAEnCb,WAhCJ,SAgCA,GACM,IAAN,eACMxC,KAAKwD,OAAOK,SAAS,UAAWM,IAElCrB,aApCJ,WAoCA,WACA,OACA,GACQ4B,KAAMC,EAAG5B,YAEjB,qBACM4B,EAAGnB,OAAOoB,OAAO,WAAW,GAC5BD,EAAGE,aAAaC,KAAKC,EAAKzB,GAAQ0B,MAAK,SAA7C,GACQ,EAAR,mBACQ,EAAR,iCACQ,EAAR,+BACA,kBACQ,EAAR,2BACQ,EAAR,kCChPqW,I,YCOjWC,EAAY,eACd,EACAnF,EACAsD,GACA,EACA,KACA,KACA,MAIa,aAAA6B,E","file":"js/chunk-2d0afe1d.5899e0fd.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"orderPreview\"},[_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-8\"},[_c('div',{staticClass:\"mb-4\"},[_c('div',{staticClass:\"cart\"},[_c('div',{staticClass:\"cart__header p-3\"},[_c('h4',{staticClass:\"mb-0\"},[_vm._v(\" 購物車(\"+_vm._s(_vm.cart.carts.length)+\"件) \")])]),_c('div',{staticClass:\"cart__body p-4 bg-light\"},_vm._l((_vm.cart.carts),function(item){return _c('div',{key:item.product.id,staticClass:\"cart__item row mb-3\"},[_c('div',{staticClass:\"col-3 col-md-3\"},[_c('img',{staticClass:\"img-fluid\",attrs:{\"src\":item.product.imageUrl[0],\"alt\":\"\"}})]),_c('div',{staticClass:\"col-9 col-md-9\"},[_c('div',{staticClass:\"row h-100\"},[_c('div',{staticClass:\"col-md-6\"},[_c('div',{staticClass:\"d-flex flex-column h-100\"},[_c('div',{staticClass:\"fz-2 fw-b mb-md-2\"},[_vm._v(\" \"+_vm._s(item.product.title)+\" \")]),_c('div',{staticClass:\"fz-3\"},[_vm._v(\" \"+_vm._s(_vm._f(\"dollars\")(item.product.price))+\" \")])])]),_c('div',{staticClass:\"col-md-6\"},[_c('div',{staticClass:\"d-flex justify-content-between align-items-center h-100\"},[_c('div',{staticClass:\"input-group input-group-sm d-inline-flex w-auto flex-nowrap\"},[_c('span',{staticClass:\"input-group-prepend\"},[_c('button',{staticClass:\"btn btn-primary\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){$event.preventDefault();return _vm.updateCartQty('add1',item)}}},[_vm._v(\"+\")])]),_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(item.quantity),expression:\"item.quantity\",modifiers:{\"number\":true}},{name:\"debounce\",rawName:\"v-debounce:1s.lock\",value:(_vm.stayUpdateCart),expression:\"stayUpdateCart\",arg:\"1s\",modifiers:{\"lock\":true}}],staticClass:\"text-center form-control\",staticStyle:{\"width\":\"30px\"},attrs:{\"type\":\"text\",\"debounce-events\":'input',\"data-item-id\":item.product.id},domProps:{\"value\":(item.quantity)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(item, \"quantity\", _vm._n($event.target.value))},\"blur\":function($event){return _vm.$forceUpdate()}}}),_c('span',{staticClass:\"input-group-append\"},[_c('button',{staticClass:\"btn btn-primary\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){$event.preventDefault();return _vm.updateCartQty('subtract1',item)}}},[_vm._v(\"-\")])])]),_c('div',{staticClass:\"d-flex align-items-center\"},[_c('p',{staticClass:\"h4 mb-0 px-2\"},[_vm._v(\" \"+_vm._s(_vm._f(\"dollars\")((item.product.price*item.quantity)))+\" \")]),_c('div',{staticClass:\"d-flex flex-column px-2\"},[_c('a',{staticClass:\"text-nowrap\",attrs:{\"href\":\"\"},on:{\"click\":function($event){$event.preventDefault();return _vm.removeCart(item)}}},[_vm._v(\"移除\")]),_c('a',{staticClass:\"text-nowrap\",attrs:{\"href\":\"\"}},[_vm._v(\"收藏\")])])])])])])])])}),0)])])]),_c('div',{staticClass:\"col-md-4\"},[_c('div',{staticClass:\"cartSummary card\"},[_c('div',{staticClass:\"cartSummary__header card-header border-0\"},[_vm._v(\" 訂單摘要 \")]),_c('div',{staticClass:\"cartSummary__body card-body pb-4\"},[_c('p',{staticClass:\"d-flex justify-content-between pb-2 border-bottom\"},[_c('span',[_vm._v(\"小計\")]),_c('span',[_vm._v(\"NT\"+_vm._s(_vm._f(\"dollars\")(_vm.cartTotal)))])]),_c('div',[_c('div',{staticClass:\"form-inline flex-nowrap pl-2 mb-3\"},[_c('span',{staticClass:\"mr-4 text-nowrap\"},[_vm._v(\"折價券\")]),_c('span',{staticClass:\"input-group\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.couponCode),expression:\"couponCode\"}],staticClass:\"form-control rounded-0\",attrs:{\"type\":\"text\",\"placeholder\":\"輸入優惠碼\"},domProps:{\"value\":(_vm.couponCode)},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.searchCoupon($event)},\"input\":function($event){if($event.target.composing){ return; }_vm.couponCode=$event.target.value}}}),_c('div',{staticClass:\"input-group-append\",on:{\"click\":_vm.searchCoupon}},[_c('span',{staticClass:\"input-group-text rounded-0 bg-secondary1 text-white\"},[_vm._v(\"套用\")])])])]),(_vm.discountAmount)?_c('p',{staticClass:\"d-flex justify-content-between pb-3 text-red border-bottom\"},[_c('span',[_vm._v(\"折扣金額\")]),_c('span',[_vm._v(\"- NT\"+_vm._s(_vm._f(\"dollars\")(_vm.discountAmount)))])]):_vm._e(),_vm._m(0),_c('div',{staticClass:\"d-flex justify-content-between mb-4\"},[_c('span',[_vm._v(\"總計\")]),_c('div',[_c('span',{staticClass:\"d-block\"},[_vm._v(\"NT\"+_vm._s(_vm._f(\"dollars\")(_vm.amountAll)))]),_c('small',{staticClass:\"d-block text-muted\"},[_vm._v(\"皆以TWD付款\")])])])]),_c('router-link',{staticClass:\"btn btn-primary btn-block\",attrs:{\"tag\":\"a\",\"href\":\"#\",\"to\":{name:'收件資訊'}}},[_vm._v(\" 下一步 \")])],1)])])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',{staticClass:\"d-flex justify-content-between pb-3 border-bottom\"},[_c('span',[_vm._v(\"運費\")]),_c('span',{staticClass:\"text-red\"},[_vm._v(\"NT$0\")])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"orderPreview\">\n    <div class=\"container\">\n      <div class=\"row\">\n        <!-- 購物車 開始 -->\n        <div class=\"col-md-8\">\n          <div class=\"mb-4\">\n            <div class=\"cart\">\n              <div class=\"cart__header p-3\">\n                <h4 class=\"mb-0\">\n                  購物車({{ cart.carts.length }}件)\n                </h4>\n              </div>\n              <div class=\"cart__body p-4 bg-light\">\n                <div\n                  v-for=\"(item) in cart.carts\"\n                  :key=\"item.product.id\"\n                  class=\"cart__item row mb-3\"\n                >\n                  <div class=\"col-3 col-md-3\">\n                    <!-- 圖片 -->\n                    <img\n                      class=\"img-fluid\"\n                      :src=\"item.product.imageUrl[0]\"\n                      alt=\"\"\n                    >\n                  </div>\n                  <div class=\"col-9 col-md-9\">\n                    <div class=\"row h-100\">\n                      <!-- 名稱跟單價 -->\n                      <div class=\"col-md-6\">\n                        <div class=\"d-flex flex-column h-100\">\n                          <div class=\"fz-2 fw-b mb-md-2\">\n                            {{ item.product.title }}\n                          </div>\n                          <div class=\"fz-3\">\n                            {{ item.product.price | dollars }}\n                          </div>\n                        </div>\n                      </div>\n                      <div class=\"col-md-6\">\n                        <div class=\"d-flex justify-content-between align-items-center h-100\">\n                          <!-- 數量加減 -->\n                          <div class=\"input-group input-group-sm d-inline-flex w-auto flex-nowrap\">\n                            <span class=\"input-group-prepend\">\n                              <button\n                                type=\"button\"\n                                class=\"btn btn-primary\"\n                                @click.prevent=\"updateCartQty('add1',item)\"\n                              >+</button>\n                            </span>\n                            <input\n                              v-model.number=\"item.quantity\"\n                              v-debounce:1s.lock=\"stayUpdateCart\"\n                              type=\"text\"\n                              class=\"text-center form-control\"\n                              style=\"width:30px\"\n                              :debounce-events=\"'input'\"\n                              :data-item-id=\"item.product.id\"\n                            >\n                            <span class=\"input-group-append\">\n                              <button\n                                type=\"button\"\n                                class=\"btn btn-primary\"\n                                @click.prevent=\"updateCartQty('subtract1',item)\"\n                              >-</button>\n                            </span>\n                          </div>\n                          <div class=\"d-flex align-items-center\">\n                            <!-- 小計 -->\n                            <p class=\"h4 mb-0 px-2\">\n                              {{ (item.product.price*item.quantity) | dollars }}\n                            </p>\n                            <!-- 操作 -->\n                            <div class=\"d-flex flex-column px-2\">\n                              <a\n                                href=\"\"\n                                class=\"text-nowrap\"\n                                @click.prevent=\"removeCart(item)\"\n                              >移除</a>\n                              <a\n                                href=\"\"\n                                class=\"text-nowrap\"\n                              >收藏</a>\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <!-- 購物車 結束 -->\n        <div class=\"col-md-4\">\n          <div class=\"cartSummary card\">\n            <div class=\"cartSummary__header card-header border-0\">\n              訂單摘要\n            </div>\n            <div class=\"cartSummary__body card-body pb-4\">\n              <p class=\"d-flex justify-content-between pb-2 border-bottom\">\n                <span>小計</span>\n                <span>NT{{ cartTotal | dollars }}</span>\n              </p>\n              <div>\n                <div class=\"form-inline flex-nowrap pl-2 mb-3\">\n                  <span class=\"mr-4 text-nowrap\">折價券</span>\n                  <!-- 折價券## -->\n                  <span class=\"input-group\">\n                    <input\n                      v-model=\"couponCode\"\n                      type=\"text\"\n                      class=\"form-control rounded-0\"\n                      placeholder=\"輸入優惠碼\"\n                      @keyup.enter=\"searchCoupon\"\n                    >\n                    <div\n                      class=\"input-group-append\"\n                      @click=\"searchCoupon\"\n                    >\n                      <span class=\"input-group-text rounded-0 bg-secondary1 text-white\">套用</span>\n                    </div>\n                  </span>\n                </div>\n                <p\n                  v-if=\"discountAmount\"\n                  class=\"d-flex justify-content-between pb-3 text-red border-bottom\"\n                >\n                  <span>折扣金額</span>\n                  <span>- NT{{ discountAmount | dollars }}</span>\n                </p>\n                <p class=\"d-flex justify-content-between pb-3 border-bottom\">\n                  <span>運費</span>\n                  <span class=\"text-red\">NT$0</span>\n                </p>\n                <div class=\"d-flex justify-content-between mb-4\">\n                  <span>總計</span>\n                  <div>\n                    <span class=\"d-block\">NT{{ amountAll | dollars }}</span>\n                    <small class=\"d-block text-muted\">皆以TWD付款</small>\n                  </div>\n                </div>\n              </div>\n              <router-link\n                tag=\"a\"\n                href=\"#\"\n                class=\"btn btn-primary btn-block\"\n                :to=\"{name:'收件資訊'}\"\n              >\n                下一步\n              </router-link>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex';\n\nexport default {\n  data() {\n    return {\n      coupon: {},\n      couponCode: '',\n    };\n  },\n  computed: {\n    cart() {\n      return this.$store.state.Cart.cart;\n    },\n    cartTotal() {\n      return this.$store.getters.cartTotal;\n    },\n    ...mapGetters(['amountAll', 'discountAmount']),\n  },\n  watch: {\n    cartTotal() {\n      this.$store.dispatch('setOrderCartTotal');\n    },\n  },\n  created() {\n    this.getCart();\n  },\n  mounted() {\n    this.$store.dispatch('changePage', 'order_preview');\n  },\n  methods: {\n    getCart() {\n      this.$store.dispatch('getCart');\n    },\n    updateCartQty(type, item) {\n      const productId = item.product.id;\n      let qty = item.quantity;\n      // let num = qty;\n      switch (type) {\n        case 'add1':\n          qty += 1;\n          break;\n        case 'subtract1':\n          qty -= 1;\n          break;\n        default:\n          break;\n      }\n      const data = {\n        productId,\n        newQty: qty,\n      };\n\n      this.$store.dispatch('editCart', data);\n    },\n    stayUpdateCart(val, e) {\n      const data = {\n        productId: e.target.dataset.itemId, // 產品id\n        newQty: val, // 值\n      };\n      this.$store.dispatch('editCart', data);\n    },\n    removeCart(item) {\n      const productId = item.product.id;\n      this.$store.dispatch('delCart', productId);\n    },\n    searchCoupon() {\n      const vm = this;\n      const coupon = {\n        code: vm.couponCode,\n      };\n      const api = 'ec/coupon/search';\n      vm.$store.commit('LOADING', true);\n      vm.$instanceCus.post(api, coupon).then((res) => {\n        this.coupon = res.data.data;\n        this.$store.commit('COUPON', this.coupon);\n        this.$store.commit('LOADING', false);\n      }).catch(() => {\n        this.$store.commit('COUPON', {});// ##無效的優惠券\n        this.$store.commit('LOADING', false);\n      });\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrderPreview.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrderPreview.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OrderPreview.vue?vue&type=template&id=64d5647f&\"\nimport script from \"./OrderPreview.vue?vue&type=script&lang=js&\"\nexport * from \"./OrderPreview.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}